<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Web-privateboard by weareopensource</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Web-privateboard</h1>
        <p class="header">Parse a folder of files downloaded, so as to: classified according to their names; filter; provide access only to certain people; streamer ...</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/weareopensource/Web-PrivateBoard/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/weareopensource/Web-PrivateBoard/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/weareopensource/Web-PrivateBoard">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/weareopensource">weareopensource</a></p>


      </header>
      <section>
        <p>Création <a href="www.yourcreation.fr">YourCreation.fr</a></p>

<p>Nous serrons reconnaissant envers les moindres remerciements / dons pour ce projet. </p>

<hr><h1>
<a name="requis-" class="anchor" href="#requis-"><span class="octicon octicon-link"></span></a>Requis :</h1>

<p>1/ Un serveur web et mysql ok</p>

<p>2/ que les fichiers que vous souhaitez affichés soit situés dans un dossier sur ce serveur web :
       - dans le www 
       - ou ailleurs en effectuant un lien symbolique ( ln -s /home/pseudo/folder1 /var/www/folder1 )</p>

<p>3/ que le site web (situé dans le dossier www), une fois décompressé soit situé n'importe ou sur le même serveur web, dans le www du serveur (mettez le dans un dossier à part nommé comme vous le souhaitez)</p>

<p>4/ créer une base de donné et y importer le fichier "database.sql"</p>

<h1>
<a name="installation-" class="anchor" href="#installation-"><span class="octicon octicon-link"></span></a>Installation :</h1>

<h3>
<a name="configuration-des-dossiers-" class="anchor" href="#configuration-des-dossiers-"><span class="octicon octicon-link"></span></a>Configuration des dossiers :</h3>

<p>Une fois cela fait, éditez le fichier "./inlude/config.php" dans le site web que je viens de vous fournir. Vous devez impérativement éditer les trois variables $way $name $path_absolu</p>

<p><code>// chemin entre le dossier private_board et votre / vos dossier(s) de fichiers , et nom du / des dossiers de fichiers</code></p>

<p><code>// ******************************************</code></p>

<p><code>// * --- exemple pour une architecture :    *</code></p>

<p><code>// * folder : www/sites/private_board       *</code></p>

<p><code>// * folder : www/folder1                   *</code></p>

<p><code>// * folder : www/folder2                   *</code></p>

<p><code>// * --- la configuration sera :            *</code></p>

<p><code>// * $way="../..";                          *</code></p>

<p><code>// * $name=array("/folder1","folder2");     *</code></p>

<p><code>// ******************************************</code></p>

<p><code>// * --- exemple pour une architecture :    *</code></p>

<p><code>// * folder : www/private_board             *</code></p>

<p><code>// * folder : www/folder1                   *</code></p>

<p><code>// * --- la configuration sera :            *</code></p>

<p><code>// * $way="..";                             *</code></p>

<p><code>// * $name=array("/folder1");               *</code></p>

<p><code>// ******************************************</code></p>

<p><code>$way="..";</code></p>

<p><code>$name=array("/folder1");</code></p>

<p><code>//----------------------------------------------------</code></p>

<p><code>// url réel vers votre dossier de torrents</code></p>

<p><code>//----------------------------------------------------</code></p>

<p><code>$path_absolu="http://x.x.x.x";</code></p>

<h3>
<a name="2-connexion-%C3%A0-la-bdd" class="anchor" href="#2-connexion-%C3%A0-la-bdd"><span class="octicon octicon-link"></span></a>2/ connexion à la bdd</h3>

<p>Toujours dans le fichier "./inlude/config.php", éditez les variables de connexion à la bdd</p>

<p><code>//----------------------------------------------------</code></p>

<p><code>// Connexion à la base de donnée</code></p>

<p><code>//----------------------------------------------------</code></p>

<p><code>$host = "localhost"; // host</code></p>

<p><code>$dbname = "private_board"; // nom de la base de donné</code></p>

<p><code>$dbid = "user"; // user de connexion à la db</code></p>

<p><code>$dbmdp = "mdp"; // mot de pass</code></p>

<h3>
<a name="3-parsage-du-dossier" class="anchor" href="#3-parsage-du-dossier"><span class="octicon octicon-link"></span></a>3/ parsage du dossier</h3>

<p>Vous pouvez maintenant choisir si le parsage du dossier ce se fera via e un tache cron 
  (réduction du temps de chargement des pages par les utilisateurs) ou par les utilisateurs 
  en chargeant les  pages.</p>

<p><code>//----------------------------------------------------</code></p>

<p><code>// Gestion des taches cron</code></p>

<p><code>//----------------------------------------------------</code></p>

<p><code>// rechargement de la liste des fichiers automatiquement ou non en cron</code></p>

<p><code>// Exemple crontab : */5 * * * * wget -q --spider http://x.xxx.xxx.xxx/private_board/_cron_file.php (x.xxx.xxx.xxx = adresse serveur)</code></p>

<p><code>// 0 cron off</code></p>

<p><code>// 1 cron on</code></p>

<p><code>$cron_file = 1;</code></p>

<p><code>// fréquence de rechargement de la liste des fichiers par les utilisateurs en seconde</code></p>

<p><code>// (toutes les 5mins par défaut) si vous ne le faites pas en tache cron ($cron_file = 0;)</code></p>

<p><code>$time_load = 300;</code></p>

<p>Pour créer une crontab, connectez vous en ssh à votre serveur, entrez 
  "crontab -e"
  puis ajoutez cette ligne dans votre fichier
  */5 * * * * wget -q --spider <a href="http://x.xxx.xxx.xxx/private_board/_cron_file.php">http://x.xxx.xxx.xxx/private_board/_cron_file.php</a> 
  ( en changeant l'adresse web par celle menant vers _con_file.php à la racine du www)</p>

<hr><p>Rendez vous sur le site, connectez vous avec les id "admin" mdp "admin", Enjoy ;) ! pensez à créer un nouvel utilisateur admin et à supprimer celui par defaut.</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
